---
interface Props {
  profileIconURL: string
  name?: string
  title?: string
  description?: string
  socialLinks?: {
    xWork?: string
    xHobby?: string
    instagram?: string
    github?: string
    linkedin?: string
    zenn?: string
    note?: string
    bluesky?: string
  }
}

const {
  profileIconURL,
  name = 'あでぃ',
  title = 'Maker & Engineer',
  description = 'レーザーカッターとWeb技術で、ものづくりの可能性を探求中。',
  socialLinks = {
    xWork: 'https://x.com/tk_adio',
    xHobby: 'https://x.com/sg_adio',
    instagram: 'https://www.instagram.com/adio29/',
    github: 'https://github.com/tk-adio',
    zenn: 'https://zenn.dev/adi',
    note: 'https://note.com/urapro',
    // linkedin: 'https://linkedin.com/in/yourname',
    // bluesky: 'https://bsky.app/profile/yourname',
  },
} = Astro.props

// X アイコン SVG
const xIconSvg = `<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="currentColor"><path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"></path></svg>`

// SNSアイコンの設定（X以外）
const otherSocialIcons = [
  {
    key: 'github',
    url: socialLinks.github,
    label: 'GitHub',
    color: '#24292e',
    icon: `<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="currentColor"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/></svg>`,
  },
  {
    key: 'zenn',
    url: socialLinks.zenn,
    label: 'Zenn',
    color: '#3EA8FF',
    icon: `<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 88 88" fill="currentColor"><path d="M2.22 83.478h19.21c1.08 0 1.98-.55 2.56-1.47L69.9 5.27c.52-.84.3-1.73-.74-1.73H51.23c-.9 0-1.56.42-2.02 1.15L2.72 81.648c-.6.96-.08 1.83.5 1.83zM56.4 83.478h17.66c.9 0 1.68-.52 2.12-1.25l11.1-18.3c.58-.96.06-1.93-.98-1.93H69.42c-.84 0-1.62.46-2.04 1.19l-11.7 18.94c-.34.56-.12 1.35.72 1.35z"/></svg>`,
  },
  {
    key: 'note',
    url: socialLinks.note,
    label: 'note',
    color: '#41c9b4',
    icon: `<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 512 512" fill="currentColor"><path d="M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm0 448c-110.5 0-200-89.5-200-200S145.5 56 256 56s200 89.5 200 200-89.5 200-200 200zm61.8-104.4l-84.9-61.7c-3.1-2.3-4.9-5.9-4.9-9.7V116c0-6.6 5.4-12 12-12h32c6.6 0 12 5.4 12 12v141.7l66.8 48.6c5.4 3.9 6.5 11.4 2.6 16.8l-18.8 25.9c-3.9 5.3-11.4 6.5-16.8 2.6z"/></svg>`,
  },
  {
    key: 'instagram',
    url: socialLinks.instagram,
    label: 'Instagram',
    color: '#E1306C',
    icon: `<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="currentColor"><path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"/></svg>`,
  },
  {
    key: 'linkedin',
    url: socialLinks.linkedin,
    label: 'LinkedIn',
    color: '#0A66C2',
    icon: `<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="currentColor"><path d="M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"/></svg>`,
  },
  {
    key: 'bluesky',
    url: socialLinks.bluesky,
    label: 'Bluesky',
    color: '#0085FF',
    icon: `<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 568 501" fill="currentColor"><path d="M123.121 33.6637C188.241 82.5526 258.281 181.681 284 234.873C309.719 181.681 379.759 82.5526 444.879 33.6637C491.866 -1.61183 568 -28.9064 568 57.9464C568 75.2916 558.055 203.659 552.222 224.501C531.947 296.954 458.067 315.434 392.347 304.249C507.222 323.8 536.444 388.56 473.333 453.32C353.473 576.312 301.061 422.461 287.631 386.373C285.289 376.062 284.195 371.741 284 373.781C283.805 371.741 282.711 376.062 280.369 386.373C266.939 422.461 214.527 576.312 94.6667 453.32C31.5556 388.56 60.7778 323.8 175.653 304.249C109.933 315.434 36.0533 296.954 15.7778 224.501C9.94533 203.659 0 75.2916 0 57.9464C0 -28.9064 76.1345 -1.61183 123.121 33.6637Z"/></svg>`,
  },
].filter((social) => social.url)
---

<section class="hero-section">
  <div class="hero-container">
    <!-- 左側: 大きなプロフィールアバター -->
    <div class="profile-avatar-container">
      <img
        src={profileIconURL}
        alt={`${name}のアバター`}
        class="profile-avatar"
      />
    </div>

    <!-- 右側: プロフィール情報 + SNSアイコン群 -->
    <div class="profile-right">
      <div class="profile-info">
        <h1 class="profile-name">{name}</h1>
        <p class="profile-title">{title}</p>
        <p class="profile-description">{description}</p>
      </div>

      <!-- SNSアイコン群 -->
      <div class="social-icons">
        <!-- X アカウント（仕事/趣味をまとめて表示） -->
        {
          (socialLinks.xWork || socialLinks.xHobby) && (
            <div class="x-accounts-group">
              {socialLinks.xWork && (
                <a
                  href={socialLinks.xWork}
                  target="_blank"
                  rel="noopener noreferrer"
                  class="social-icon-link x-work"
                  aria-label="X (仕事)"
                >
                  <Fragment set:html={xIconSvg} />
                  <span class="x-badge work">Work</span>
                </a>
              )}
              {socialLinks.xHobby && (
                <a
                  href={socialLinks.xHobby}
                  target="_blank"
                  rel="noopener noreferrer"
                  class="social-icon-link x-hobby"
                  aria-label="X (趣味)"
                >
                  <Fragment set:html={xIconSvg} />
                  <span class="x-badge hobby">Play</span>
                </a>
              )}
            </div>
          )
        }

        <!-- 区切り線 -->
        {
          (socialLinks.xWork || socialLinks.xHobby) &&
            otherSocialIcons.length > 0 && <span class="social-divider" />
        }

        <!-- その他のSNS -->
        {
          otherSocialIcons.map((social) => (
            <a
              href={social.url}
              target="_blank"
              rel="noopener noreferrer"
              class="social-icon-link"
              aria-label={social.label}
              title={social.label}
              style={`--icon-color: ${social.color}`}
            >
              <Fragment set:html={social.icon} />
            </a>
          ))
        }
      </div>
    </div>
  </div>
</section>

<style>
  .hero-section {
    max-width: 800px;
    margin: 0 auto;
    padding: 1.5rem;
  }

  .hero-container {
    display: flex;
    flex-direction: row;
    align-items: center;
    gap: 2rem;
    background: linear-gradient(135deg, #fff8f0 0%, #ffefe3 100%);
    border-radius: 20px;
    padding: 1.5rem 2rem;
    border: 1px solid var(--border-color, #e8e2d9);
    box-shadow: 0 4px 20px rgba(224, 122, 61, 0.08);
  }

  /* 左側: アバター */
  .profile-avatar-container {
    flex-shrink: 0;
  }

  .profile-avatar {
    width: 100px;
    height: 100px;
    border-radius: 50%;
    object-fit: cover;
    border: 4px solid white;
    box-shadow: 0 6px 20px rgba(224, 122, 61, 0.2);
    transition:
      transform 0.3s ease,
      box-shadow 0.3s ease;
  }

  .profile-avatar:hover {
    transform: scale(1.05);
    box-shadow: 0 8px 28px rgba(224, 122, 61, 0.3);
  }

  /* 右側: プロフィール情報 */
  .profile-right {
    flex: 1;
    min-width: 0;
  }

  .profile-info {
    margin-bottom: 1rem;
  }

  .profile-name {
    margin: 0;
    font-size: 1.4rem;
    font-weight: 700;
    color: var(--fg, #2d2a26);
  }

  .profile-title {
    margin: 0.2rem 0 0;
    font-size: 0.85rem;
    color: var(--accents-1, #e07a3d);
    font-weight: 500;
  }

  .profile-description {
    margin: 0.5rem 0 0;
    font-size: 0.85rem;
    line-height: 1.5;
    color: var(--accents-3, #5c5650);
  }

  /* SNSアイコン群 */
  .social-icons {
    display: flex;
    flex-wrap: wrap;
    align-items: center;
    gap: 0.5rem;
  }

  /* X アカウントグループ */
  .x-accounts-group {
    display: flex;
    gap: 0.35rem;
    background: rgba(0, 0, 0, 0.03);
    padding: 0.25rem;
    border-radius: 12px;
  }

  /* 区切り線 */
  .social-divider {
    width: 1px;
    height: 24px;
    background: var(--border-color, #e8e2d9);
    margin: 0 0.25rem;
  }

  .social-icon-link {
    position: relative;
    display: flex;
    align-items: center;
    justify-content: center;
    width: 36px;
    height: 36px;
    border-radius: 10px;
    background: white;
    color: var(--accents-3, #5c5650);
    border: 1px solid var(--border-color, #e8e2d9);
    transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
    text-decoration: none;
  }

  .social-icon-link:hover {
    background: var(--icon-color, #e07a3d);
    color: white;
    border-color: var(--icon-color, #e07a3d);
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
  }

  .social-icon-link :global(svg) {
    width: 18px;
    height: 18px;
  }

  /* X Work スタイル */
  .x-work {
    --icon-color: #1d9bf0;
    border-color: transparent;
    background: white;
  }

  .x-work:hover {
    background: #1d9bf0;
  }

  /* X Hobby スタイル */
  .x-hobby {
    --icon-color: #ff6b9d;
    border-color: transparent;
    background: white;
  }

  .x-hobby:hover {
    background: #ff6b9d;
  }

  /* X バッジ */
  .x-badge {
    position: absolute;
    bottom: -4px;
    right: -4px;
    padding: 1px 4px;
    border-radius: 4px;
    font-size: 0.55rem;
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 0.02em;
    color: white;
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.2);
    pointer-events: none;
  }

  .x-badge.work {
    background: linear-gradient(135deg, #1d9bf0 0%, #0d8bd9 100%);
  }

  .x-badge.hobby {
    background: linear-gradient(135deg, #ff6b9d 0%, #ff4777 100%);
  }

  /* レスポンシブ：タブレット・モバイル */
  @media (max-width: 768px) {
    .hero-section {
      padding: 0.75rem 1rem;
    }

    .hero-container {
      flex-direction: row;
      align-items: center;
      text-align: left;
      padding: 0.75rem 1rem;
      gap: 0.75rem;
    }

    .profile-avatar {
      width: 60px;
      height: 60px;
      border-width: 2px;
    }

    .profile-info {
      margin-bottom: 0.4rem;
    }

    .profile-name {
      font-size: 1rem;
    }

    .profile-title {
      font-size: 0.7rem;
    }

    .profile-description {
      font-size: 0.7rem;
      margin-top: 0.25rem;
      display: -webkit-box;
      -webkit-line-clamp: 1;
      -webkit-box-orient: vertical;
      overflow: hidden;
    }

    .social-icons {
      justify-content: flex-start;
      gap: 0.3rem;
    }

    .x-accounts-group {
      gap: 0.2rem;
      padding: 0.15rem;
    }

    .social-icon-link {
      width: 28px;
      height: 28px;
      border-radius: 6px;
    }

    .social-icon-link :global(svg) {
      width: 14px;
      height: 14px;
    }

    .social-divider {
      height: 18px;
      margin: 0 0.15rem;
    }

    .x-badge {
      font-size: 0.45rem;
      padding: 0px 2px;
      bottom: -3px;
      right: -3px;
    }
  }
</style>
